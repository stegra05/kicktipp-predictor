# Project Reorganization Analysis

This document provides a detailed analysis of the current project structure and proposes a more organized and scalable layout.

## 1. Current Project Structure

The project currently has a mix of scripts, modules, and data directories at the root level.

```
kicktipp-predictor/
├── src/
│   ├── scraper/
│   ├── features/
│   ├── models/
│   └── web/
├── data/
│   ├── cache/
│   ├── models/
│   └── predictions/
├── experiments/
├── config/
├── train_model.py
├── predict.py
├── evaluate_model.py
├── evaluate_season.py
├── demo.py
├── requirements.txt
└── README.md
```

- **Root Directory**: Contains several Python scripts for core tasks (`train_model.py`, `predict.py`, etc.), configuration (`requirements.txt`), documentation (`README.md`), and various data/helper directories.
- **`src` Directory**: Contains the main application logic, broken down into `scraper`, `features`, `models`, and `web` subdirectories. This is a good starting point for code organization.
- **`data` Directory**: Stores data used and generated by the application.
- **`config` Directory**: For configuration files.
- **`experiments` Directory**: For experimental notebooks and scripts.

## 2. Issues with the Current Structure

While functional, the current layout has several drawbacks that can hinder maintainability, scalability, and collaboration:

1.  **Cluttered Root Directory**: The presence of multiple executable Python scripts (`.py`) in the root directory mixes application entry points with project configuration and documentation. This makes the project feel disorganized.
2.  **Lack of Proper Packaging**: The project is not structured as an installable Python package. This means it can't be easily distributed or reused. It relies on running scripts from the root directory, which can lead to `PYTHONPATH` issues.
3.  **Ambiguous Entry Points**: With several scripts in the root, it's not immediately obvious how they relate to each other or which one a new developer should start with. The `README.md` is necessary to understand the workflow.
4.  **Scalability Concerns**: As more features are added, adding more scripts to the root directory will become increasingly messy.
5.  **Testing Framework is Missing**: There is no dedicated directory for tests (`tests/`), which is a standard practice for ensuring code quality and reliability.

## 3. Proposed New Project Structure

To address these issues, we propose reorganizing the project into a standard Python package structure. This structure is widely adopted and supported by modern Python development tools.

```
kicktipp-predictor/
├── config/
├── data/
├── experiments/
├── src/
│   └── kicktipp_predictor/
│       ├── __init__.py
│       ├── cli.py              # Main CLI entry point using Click/Argparse
│       ├── core/
│       │   ├── __init__.py
│       │   ├── scraper.py
│       │   └── features.py
│       ├── models/
│       │   ├── __init__.py
│       │   ├── train.py
│       │   ├── predict.py
│       │   └── evaluate.py
│       ├── web/
│       │   ├── __init__.py
│       │   ├── app.py
│       │   └── templates/
│       └── utils.py            # Common utility functions
├── tests/
│   ├── __init__.py
│   ├── test_core.py
│   └── test_models.py
├── .gitignore
├── README.md
├── requirements.txt
└── pyproject.toml              # Project packaging and dependency configuration
```

## 4. Justification for Changes

1.  **Python Package (`src/kicktipp_predictor`)**:
    - All source code is moved into a dedicated package directory. This is the standard for creating installable and distributable Python projects.
    - It enforces clearer separation between the application's source code and other project assets like documentation, data, and tests.

2.  **Single Command-Line Interface (CLI) (`cli.py`)**:
    - The logic from `train_model.py`, `predict.py`, `evaluate_model.py`, `demo.py`, and `evaluate_season.py` will be consolidated into a single entry point.
    - Using a library like `Click` or `Typer`, we can create a powerful and self-documenting CLI. For example:
      ```bash
      python -m kicktipp_predictor train
      python -m kicktipp_predictor predict --record
      python -m kicktipp_predictor evaluate --season
      ```
    - This simplifies the user experience and makes the project's functionality more discoverable.

3.  **`pyproject.toml`**:
    - This file will replace the need for `setup.py` and parts of `requirements.txt`. It's the modern standard for configuring Python projects.
    - It will define project metadata, dependencies, and the entry point for the CLI, making the package installable via `pip install .`.

4.  **Dedicated `tests/` Directory**:
    - Separating tests from the source code is a clean practice that makes it easy to run tests and manage testing-related files.

5.  **Improved Modularity**:
    - The proposed structure organizes the code into logical modules (`core`, `models`, `web`). This improves code navigation, maintainability, and reusability. For instance, the `scraper` and `features` logic can be combined or kept in a `core` sub-package.

## 5. High-Level Migration Plan

Here is a step-by-step plan to transition to the new structure without disrupting functionality for long.

1.  **Create New Directories**: Create the new directory structure: `src/kicktipp_predictor` and `tests`.
2.  **Move Source Code**: Move the contents of the old `src/` subdirectories (`scraper`, `features`, `models`, `web`) into `src/kicktipp_predictor/`.
3.  **Refactor Scripts into a CLI**:
    - Create `src/kicktipp_predictor/cli.py`.
    - Convert the logic from the root-level Python scripts (`train_model.py`, `predict.py`, etc.) into functions.
    - Import these functions into `cli.py` and expose them as CLI commands using a library like `Click`.
4.  **Update Imports**: Search the entire project for imports and update them to use the new absolute package path (e.g., `from kicktipp_predictor.core.scraper import ...`).
5.  **Create `pyproject.toml`**: Create the file to manage project dependencies and define the CLI script entry point.
6.  **Move Tests**: If any tests exist, move them to the `tests/` directory and update them to work with the new structure. If not, this is a good opportunity to create some basic tests.
7.  **Update Documentation**: Update `README.md` to reflect the new project structure and provide instructions for using the new CLI.
8.  **Remove Old Scripts**: Once the new structure is verified and working, the old scripts in the root directory can be safely deleted.